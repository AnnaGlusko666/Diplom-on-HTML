/* =========================
   SEED
   ========================= */
function ensureSeed() {
  const db = dbLoad();

  // ÐºÐ»Ð°ÑÐ¸ ÑÑ‚Ð²Ð¾Ñ€ÑŽÑŽÑ‚ÑŒÑÑ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€ÑˆÑ–Ð¹ Ñ€ÐµÑ”ÑÑ‚Ñ€Ð°Ñ†Ñ–Ñ— Ð²Ñ‡Ð¸Ñ‚ÐµÐ»Ñ

  if (!db.shopItems || db.shopItems.length === 0) {
    db.shopItems = [
      { id:"it_frame",   tab:"profile",    title:"Ð¡Ñ‚Ð¸Ð»ÑŒÐ½Ð° Ñ€Ð°Ð¼ÐºÐ° Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŽ", desc:"Ð”Ð¾Ð´Ð°Ñ” Ð·Ð¾Ð»Ð¾Ñ‚Ñƒ Ñ€Ð°Ð¼ÐºÑƒ Ð½Ð°Ð²ÐºÐ¾Ð»Ð¾ Ð°Ð²Ð°Ñ‚Ð°Ñ€Ð°", price:50,  icon:"ðŸ–¼ï¸", type:"profile" },
      { id:"it_avatar",  tab:"profile",    title:"ÐÐ½Ñ–Ð¼Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ð°Ð²Ð°Ñ‚Ð°Ñ€",     desc:"Ð•Ñ„ÐµÐºÑ‚ Ð°Ð½Ñ–Ð¼Ð°Ñ†Ñ–Ñ— Ð°Ð²Ð°Ñ‚Ð°Ñ€Ð°",            price:100, icon:"ðŸ§‘", type:"profile" },
      { id:"it_theme",   tab:"special",    title:"Ð¢ÐµÐ¼Ð° Ñ–Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑƒ Â«Ð—Ð¸Ð¼Ð°Â»", desc:"Ð”ÐµÐºÐ¾Ñ€ Ñ‚Ð° ÑÑ‚Ð¸Ð»ÑŒ Ñ–Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑƒ",         price:150, icon:"â„ï¸", type:"profile" },
      { id:"it_skip",    tab:"privileges", title:"ÐŸÑ€Ð¾Ð¿ÑƒÑÐº ÑƒÑ€Ð¾ÐºÑƒ",         desc:"ÐœÐ¾Ð¶Ð»Ð¸Ð²Ñ–ÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ 1 ÑƒÑ€Ð¾Ðº",       price:300, icon:"ðŸšª", type:"privilege" },
      { id:"it_time",    tab:"privileges", title:"Ð”Ð¾Ð´Ð°Ñ‚ÐºÐ¾Ð²Ð¸Ð¹ Ñ‡Ð°Ñ",        desc:"+1 Ð´ÐµÐ½ÑŒ Ð½Ð° Ð·Ð´Ð°Ñ‡Ñƒ Ð·Ð°Ð²Ð´Ð°Ð½Ð½Ñ",          price:200, icon:"â±ï¸", type:"privilege" },
      { id:"it_shield",  tab:"special",    title:"Ð—Ð°Ñ…Ð¸ÑÑ‚ Ð²Ñ–Ð´ Ð´Ð²Ñ–Ð¹ÐºÐ¸",     desc:"1 Ñ€Ð°Ð· Ð·Ð°Ð¼Ñ–Ð½Ð¸Ñ‚Ð¸ 2 Ð½Ð° 4",              price:250, icon:"ðŸ›¡ï¸", type:"privilege" },
    ];
  }

  if (!db.badges || db.badges.length === 0) {
    db.badges = [
      { id:"b_first12", icon:"ðŸŒŸ", name:"ÐŸÐµÑ€ÑˆÐ° 12", desc:"ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ð¹Ñ‚Ðµ Ð¿ÐµÑ€ÑˆÑƒ Ð¾Ñ†Ñ–Ð½ÐºÑƒ 12", rewardCoins:30 },
      { id:"b_active",  icon:"ðŸ”¥", name:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒ", desc:"3 Ð¾Ñ†Ñ–Ð½ÐºÐ¸ 10+ Ð·Ð° Ñ‚Ð¸Ð¶Ð´ÐµÐ½ÑŒ", rewardCoins:20 },
      { id:"b_top",     icon:"ðŸ‘‘", name:"Ð¢Ð¾Ð¿ ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾ÑÑ‚Ñ–", desc:"Ð¡ÐµÑ€ÐµÐ´Ð½Ñ–Ð¹ Ð±Ð°Ð» >= 10", rewardCoins:50 },
      { id:"b_project", icon:"ðŸ§©", name:"ÐŸÑ€Ð¾Ñ”ÐºÑ‚Ð½Ð° Ñ€Ð¾Ð±Ð¾Ñ‚Ð°", desc:"ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ð¹Ñ‚Ðµ Ð¾Ñ†Ñ–Ð½ÐºÑƒ 12 Ð·Ð° Ð¿Ñ€Ð¾Ñ”ÐºÑ‚", rewardCoins:40 },
      { id:"b_help",    icon:"ðŸ¤", name:"Ð”Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð° Ñ–Ð½ÑˆÐ¸Ð¼", desc:"ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ð¹Ñ‚Ðµ 5 Ð¾Ñ†Ñ–Ð½Ð¾Ðº 11+ Ð·Ð°Ð³Ð°Ð»Ð¾Ð¼", rewardCoins:30 },
      { id:"b_att",     icon:"ðŸ“…", name:"Ð’Ñ–Ð´Ð²Ñ–Ð´ÑƒÐ²Ð°Ð½Ñ–ÑÑ‚ÑŒ", desc:"Ð£ MVP Ð²Ð¸Ð´Ð°Ñ”Ñ‚ÑŒÑÑ Ð²Ñ€ÑƒÑ‡Ð½Ñƒ (Ð¿Ñ–Ð·Ð½Ñ–ÑˆÐµ)", rewardCoins:20 },
    ];
  }

  dbSave(db);
}
ensureSeed();

/* =========================
   SUBJECTS
   ========================= */
const SUBJECTS = [
  "ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ°",
  "Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ° Ð¼Ð¾Ð²Ð°",
  "Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ° Ð»Ñ–Ñ‚ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð°",
  "Ð†Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸ÐºÐ°",
  "Ð¤Ñ–Ð·Ð¸ÐºÐ°",
  "Ð¥Ñ–Ð¼Ñ–Ñ",
  "Ð‘Ñ–Ð¾Ð»Ð¾Ð³Ñ–Ñ",
  "Ð“ÐµÐ¾Ð³Ñ€Ð°Ñ„Ñ–Ñ",
  "Ð†ÑÑ‚Ð¾Ñ€Ñ–Ñ",
  "ÐÐ½Ð³Ð»Ñ–Ð¹ÑÑŒÐºÐ° Ð¼Ð¾Ð²Ð°",
  "ÐÑ–Ð¼ÐµÑ†ÑŒÐºÐ° Ð¼Ð¾Ð²Ð°",
  "Ð¤Ñ–Ð·ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð°",
  "Ð—Ð°Ñ€ÑƒÐ±Ñ–Ð¶Ð½Ð° Ð»Ñ–Ñ‚ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð°"
];

function fillScheduleSubjectsSelect() {
  const sel = $("#tSchSubject");
  if (!sel) return;
  sel.innerHTML = SUBJECTS.map(s => `<option value="${s}">${s}</option>`).join("");
}

